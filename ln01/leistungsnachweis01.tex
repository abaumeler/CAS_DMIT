%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% HEADER
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[a4paper,oneside, 12pt]{report}
% Alternative Optionen:
%	Papiergrösse: a4paper / a5paper / b5paper / letterpaper / legalpaper / executivepaper
% Duplex: oneside / twoside
% Grundlegende Fontgrössen: 10pt / 11pt / 12pt


%% Deutsche Anpassungen %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[numbers]{natbib}
\usepackage{lmodern} %Type1-Schriftart für nicht-englische Texte
\usepackage{color,soul} %Highlight
\usepackage{acronym} % Abkürzungen
\usepackage[toc,page]{appendix}
\usepackage{pdfpages}
\usepackage{subcaption} %Bilder nebeneinander
\usepackage{rotating} %Tabelle Hochkant
\usepackage{color, colortbl}
\usepackage{fancyvrb} %Text File einbinden
\usepackage{embedfile}[2020/04/01]

%% Packages für Grafiken & Abbildungen %%%%%%%%%%%%%%%%%%%%%%
\usepackage{graphicx} %%Zum Laden von Grafiken
%\usepackage{subfig} %%Teilabbildungen in einer Abbildung
%\usepackage{pst-all} %%PSTricks - nicht verwendbar mit pdfLaTeX

%% Packages für Formeln %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}


%% PDF-A Settings %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[hyphens]{url}
\usepackage[hidelinks,pdfa]{hyperref}
\usepackage{hyperxmp}[2020/03/01]
\hypersetup{breaklinks=true}
\urlstyle{same}
\title{Leistungsnachweis 01}
\author{Andrés Baumeler}
\embedfile[afrelationship={/Source},ucfilespec={\jobname.tex},mimetype={application/x-tex}]{\jobname.tex}
\hypersetup{%
    pdflang=la,
    pdfapart=3, %set to 1 for PDF/A-1
    pdfaconformance=B
}

% %Create an OutputIntent in order to correctly specify colours
\immediate\pdfobj stream attr{/N 3} file{sRGB.icc}
\pdfcatalog{%
  /OutputIntents [
    <<
      /Type /OutputIntent
      /S /GTS_PDFA1
      /DestOutputProfile \the\pdflastobj\space 0 R
      /OutputConditionIdentifier (sRGB)
      /Info (sRGB)
    >>
  ]
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Anmerkungen
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Zu erledigen:
% 1. Passen Sie die Packages und deren Optionen an (siehe oben).
% 2. Wenn Sie wollen, erstellen Sie eine BibTeX-Datei
%    (z.B. 'literatur.bib').
% 3. Happy TeXing!
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Optionen / Modifikationen
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Pfad für Bilder
\graphicspath{ {../img/} }

% redefine \VerbatimInput
\RecustomVerbatimCommand{\VerbatimInput}{VerbatimInput}%
{fontsize=\footnotesize,
 %
 frame=lines,  % top and bottom rule only
 framesep=2em, % separation between frame and text
 rulecolor=\color{Gray},
 %
 label=\fbox{\color{Black}Dokumentation.txt},
 labelposition=topline,
 %
 commandchars=\|\(\), % escape character and argument delimiters for
                      % commands within the verbatim
 commentchar=!        % comment character
}

%% Zeilenabstand %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{setspace}
%\singlespacing        %% 1-zeilig (Standard)
\onehalfspacing       %% 1,5-zeilig
%\doublespacing        %% 2-zeilig

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% DOKUMENT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\definecolor{Gray}{gray}{0.9}
\definecolor{LGray}{gray}{0.8}

\pagestyle{empty} %%Keine Kopf-/Fusszeilen auf den ersten Seiten.


%% Deckblatt %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{titelseite}


%% Inhaltsverzeichnis %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
\tableofcontents %Inhaltsverzeichnis
\cleardoublepage %Das erste Kapitel soll auf einer ungeraden Seite beginnen.

\pagestyle{plain} %%Ab hier die Kopf-/Fusszeilen: headings / fancy / ...


%% Kapitel / Hauptteil des Dokumentes %%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> Einleitung
\chapter{Einleitung}\label{sec:motivation}
Die Volltexttransformation von historischen Schriften ist ein umfassender Prozess welcher aus mehreren Schritten besteht. \ac{OCR} nimmt dabei eine wichtige Rolle ein. \ac{OCR}  wird verwendet um Text von digitalisierten Dokumenten maschinenlesbar zu machen. Dadurch können die Dokumente im Volltext durchsucht werden und der Text für weitere Analysen verwendet werden. In den letzten Jahren konnte die Qualität der OCR Resultate durch den Einsatz von Verfahren aus dem Maschinenlernen, insbesondere neuronalen Netzwerken, verbessert werden. So ist es heute möglich handgeschriebenen mit Text automatisch zu erkennen. Dies ermöglicht die Retrodigitalisierung von historischen Schriften in einem vorher nie dagewesenen Volumen. 

Für die Volltexterkennung von historische Schriften existieren mehrere Lösungen. Zwei verbreitete Lösungen sind das OCR-D Framework und die Transkribus Platform. Dieser Text versucht die zwei Lösungen mit einander zu Vergleichen um Gemeinsamkeiten und Unterschiede aufzuzeigen. OCR-D und Transkribus verfolgen unterschiedliche Ansätze: OCR-D setzt auf einen open Source und verteilten Ansatz während Transkribus auf einen closed Source und zentralisierten Ansatz setzt.

Im Ersten Kapitel wird zur Übersicht aufgezeigt wie der Prozess der Volltexttransformation in einer modernen Lösung abläuft. Im Zweiten Kapitel werden die Frameworks OCR-D und Transkribus vorgestellt und miteinander verglichen. Ziel ist es eine Hilfestellung für Institutionen zu bieten welche sich für eine dieser zwei Lösungen entscheiden möchten. Es handelt sich hierbei nicht um einen wissenschaftlichen Vergleich sondern um einen Erfahrungsbericht aus der Anwendung der zwei Lösungen im Privatbereich. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Grundlagen
\chapter{Grundlagen}\label{sec:grundlagen}
Der Prozess der Volltexttransformation besteht aus mehreren Schritten wovon die eigentliche Texterkennung nur einer ist. Je nach Ausgangslage- und Material sind dabei unterschiedliche Schritte notwendig. Ein Beispielhafter Prozess zur Volltextransformation beinhaltet die Schritte:
\begin{itemize}\itemsep=0.5pt
  \item Seitentrennung
  \item Aufbereiten der einzelnen Seitentrennung
  \item Optische Layout Erkennung und Segmentierung der Seiten
  \item Aufbereiten der einzelnen Segmente
  \item Unterteilen der einzelnen Segmente in Textzeilen
  \item Aufbereiten der einzelen Textzeilen
  \item Texterkennung auf den einzelnen Textzeilen
  \item Zusammenfügen der erkannten Texte
  \item Klassifizierung der erkannten Regionen
  \item Dokumentanalyse und Export
  \item Nachbearbeitung und ggf. manuelle Kontrolle und Korrektur der Resultate
\end{itemize}

Die Fortschritte moderner Lösungen für die Volltextransformation sind zu einem grossen Teil auf den Einsatz neuronaler Netzwerke zurückzuführen. Die meisten Schritte im Prozess der Volltexttransformation können von neuronalen Netzwerken unterstützt werden. Aus diesem Grund wird vertieft darauf eingeangen wie beiden Frameworks mit neuronalen Netzwerken umgehen. 

OCR-D und Transkribus setzen neuronale Netzwerke für die Segmentierung und die Texterkennung ein. Die effektiven Workflows in den beiden Frameworks hängen von jeweiligen Setup und Anwendungsfall ab und entsprechen deshalb nicht dem obenstehenden beispiel Workflow. Gerade OCR-D bietet für einzelne Schritte im Prozess mehrere sogenannte Prozessoren mit unterschiedlichen Verfahren an.\cite{transkribus}, \cite{ocrdworkflows} 
 
Der Einsatz von neuronalen netzwerken setzt voraus, dass entsprechende Trainingsdaten in genügender Qualität und Quantität verfügbar sind um die eingesetzten neuronalen Netzwerke zu trainieren. Das Ergebnis des Trainingsvorgangs wird in Modellen gespeichert. Diese Modelle können für verschiedene Szenarien wiederverwendet werden und ersparen ein erneutes Trainieren des neuronalen Netzwerks. So kann ein für eine bestimmte Schriftart trainiertes Modell wiederverwendet werden wenn eines Tages weitere Dokumente in der gleichen Schriftart transformiert werden sollen.
Trainingsdaten sind eine Sammlung von Beispielen, die zum Training von künstlichen Intelligenz Modellen verwendet werden. Sie bestehen aus Eingabe- und Ausgabedaten. Bei der Texterkennung können Trainingsdaten beispielsweise aus Bilder von Textzeilen und dem auf dem Bild enthaltenen Text in maschinenlesbarer Form bestehen. 

Ground Truth (zu Deutsch: Wahrheit oder Wirklichkeit) ist ein Begriff der in der künstlichen Intelligenz verwendet wird um die korrekten Ausgaben für eine Eingabe zu beschreiben. Ground Truth sind Trainingsdaten für welche die Eingangs - und Ausgangsdaten verifiziert wurden. Das bedeuetet zu einem Eingangswert ist der korrekte Ausgangswert fesgehalten. Diese Ground Truth muss meist durch mühsame manuelle Arbeit erstellt werden denn nur so kann sichergestellt werden, dass das Modell auf einer korrekten Grundlage trainiert wird.

Im Kontext der neuronalen Netzwerke bezeichnet ein Modell die Konfiguration eines \ac{NN}. Zur Konfiguration gehören die Anzahl und Anordnung der Neuronen, die Verbindungen unter den Neuronen sowie die Gewichtung dieser Verbindungen. Beim Training werden diese Werte stetig verändert um die Ausgabendaten des \ac{NN} möglichst nahe an die Ausgabedaten aus der Ground Truth zu bringen.

Ein Netzwerk wird trainiert, indem es mit Trainingsdaten gefüttert wird um daraus Ausgangsdaten gemäss der aktuellen Konfiguration zu produzieren. Die Ausgabedaten werden mit den Eingabedaten verglichen und das Netzwerk wird angepasst. Diese Anpassungen erfolgen automatisiert druch ein Trainingsprogramm. Im Zuge dieser Anpassung können etwa Verbindungen zwischen den Neuronen gelöscht oder neu angelegt werden. Auch die Gewichtung der einzelnen Verbindungen kann angepasst werden. Ein Training geht über mehrere Durchläufe (sogenannte Epochen). Am Ende kann anhand mehrere Metriken verifiziert werden wie nahe das trainierte Modell an den gewünschte Resultaten liegt.

Die Qualität der Trainingsdaten hat einen grossen Einfluss auf die Leistung des Netzwerks. Wenn die Trainingsdaten nicht repräsentativ für das zu lösende Problem sind oder schlecht gelabelt wurden, kann das Netzwerk fehlerhaft trainiert werden und schlechte Vorhersagen treffen. Daher ist es wichtig, qualitativ hochwertige Trainingsdaten zu haben, um ein leistungsfähiges Modell zu trainieren.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Vergleich
\chapter{Vergleich}\label{sec:vergleich}

\section{Vorstellung OCR-D}
OCR-D wird im Rahmen des DFG-Projekts OCR-D entwickelt und hat zum Ziel die Volltexttransformation Drucken aus dem Deutschen Sprachraum des 16. bis 18. Jahrhunderts konzeptionell und technisch vorzubereiten \cite{standOCR-D}. Das OCR-D Framework ist OpenSource. Das beudeutet der Source Code ist öffentlich einsehbar und kann von interssierten Personen auch modifiziert werden. OCR-D verwendet zur Verwaltung des Source Code ein Repository auf GitHub.\cite{ocrdgithub}

OCR-D ist ein Framwork welches mehrere Softwaremodule verbindet. Durch diese Modulare herangehensweise können die einzelnen Schritte im Prozess der Volltexttransformation durch unabhängige Softwarekomponenten abgedeckt werden. Diese Softwarekomponenten werden im OCR-D Framework als Prozessoren bezeichnet. Für einen Prozessschritt existieren meist mehrere Prozessoren mit unterschiedlichen Eigenschaften und Funktionsweisen. Für den \ac{OCR} Prozessor können die OCR Engines Tesseract, Ocropus, Kraken und Calamari eingesetzt werden. Der Export der OCR Resultate geschieht im ALTO Format. Die Verwendung von OCR-D ist kostenfrei. Unterstützung beim Setup und der Anwendung kann aus der OCR-D Community bezogen werden. \cite{ocrdfaq}

\section{Vorstellung Transkribus}
Transkribus ist eine kommerzielle Plattform für Texterkennung, Transkription und das Durchsuchen von historischen Dokumenten. Transkribus wurde im Rahmen des Horizon 2020 EU-Projekts READ von einem Konsortium führender Forschungsgruppen aus ganz Europa unter der Leitung der Universität Innsbruck entwickelt. Die Plattform wird von der Genossenschaft READ-COOP betrieben und weiter entwickelt. \cite{readcoopabout} 

Um Transkribus anzuwenden ist keine Installation notwendig. Dokumente können direkt über die Webseite von Transkribus unter \url{https://transkribus.ai} möglich. Dabei werden die Bildaten an die Server von Trankribus übermittelt und durchlaufen dort die Schritte für die Volltexttransformation. Es entfällt somit eine lokale Installation, es wird lediglich ein aktueller Browser vorausgesetzt. Der Export der OCR Resultate ist bei Transkribus im ALTO Format möglich. \cite{transkribus}

Für die Texterkennung muss bei Transkribus bezahlt werden. Die Bezahlung erfolgt mit Credits welche vorgängig über den Transkribus Shop gekauft werden müssen. \cite{transkribuspricing}

Für die Anbindung an andere System beitet Transkribus auch ein REST API zum Hochladen von Dokumenten und zum konfigurieren der Volltextransformation. Die Bearbeitung der Bilder erfolgt aber auch in diesem Verfahren auf den Servern von Transkribus. \cite{transkribusapi}. 

\section{Umgang mit Trainingsdaten und Modellen}
Bei OCR-D liegt es in der Verantwortung der Anwender die Trainingsdaten zu verwalten. Bei OCR-D sind die erstellten Modelle immer unter der Kontrolle der erstellenden Institution. Trainingsdaten können über eine Website wie das OCR-D Ground Truth Repository veröffentlicht und geteilt werden. \cite{ocrdgtrepo}

Transkribus bietet die Möglichkeit eigene Ground Truth zum Training hochzuladen. Dies ermöglicht es ein Modell für einen spezifischen Anwendungsfall zu trainieren. Für die eigenen Trainingsdaten und Modelle können Zugriffsrechte vergeben werden. So ist es möglich ein Modell zwar öffentlich zugänglich zu machen, die zugrundeliegenden Trainingsdaten aber privat zu halten, etwa wenn die Trainingsdaten aus rechtlichen Gründen nicht veröffentlicht werden dürfen. Für die Modelle welche von Transkribus selbst veröffentlicht wurden, sind die Trainingsdaten nicht zugänglich. Ein Export des Modells, etwa zur Verwendung in einer eigenen Installation oder als Backup, ist aber nicht möglich. Die Rohdaten zu einem Modell sind nicht einsehbar. Transkribus zeigt auf der Seite zu einem Modell eine Übersicht mit Statistiken und Informationen, wie etwa der CER-Rate oder der anzahl trainierter Epochen, zu einem Modell. \cite{transkribusmodels}


\section{Vor- und Nachteile}
Der Vorteil von OCR-D ist, dass sämtliche verwendeten Komponenten Open Source sind. Dadurch kann wird die Abhängigkeit von einem bestimmten Lieferanten verringert. Es besteht nicht die Gefahr, dass ein einzelner Hersteller entscheiden kann die Lösung nicht mehr anzubiete. Ein weitere Vorteil von OCR-D ist, dass dank des modularen Aufbaus und der open Source Komponenten auch eigene Prozessoren entwickelt oder bestehende Prozessoren angepasst werden können. Dadurch ist es möglich eine Lösung aufzubauen welche exakt an die eigenen Bedürfnisse angepasst ist.
Die Nachteile von OCR-D sind die steilere Lernkurve und das komplexe Setup. Bevor mit der Volltextransformation gestartet werden kann, muss ein Workflow aufgebaut und konfiguriert werden. Die Interaktion und die Konfiguration erfolgt bei OCR-D ausschliesslich über die Kommandozeile. Dies kann für Benutzende mit wenig IT Erfahrung problematisch sein. Weitere Herausforderungen stellen sich beim Betrieb auf der eigenen Hardware. Benutzende müssen sich selber darum kümmern die korrekte Hardware zur Verfügung zu haben.

Der Vorteil von Transkribus ist die flache Lernkurve und der einfache Einstieg. Ein aktueller Browser und ein Konto bei Transkribus genügen um mit der Volltexttransformation zu starten. Damit ist die Lösung auch für Benutzende ohne IT Kenntnisse sehr gut zugänglich. Durch den Platformansatz müssen sich Benutzende zudem keine Gedanken um die Konfiguration und Update von Software und Hardware machen. Da es sich bei Transkribus um eine kommerzielle Lösung handelt hat der Benutzende den Vorteil eines klaren Ansprechspartners welcher bei etwaigen Supportfällen unterstützen kann.
Die Nachteile von Transkribus liegen auch im Platformansatz. Der Export der eigenen Daten ist nur in dem von Transkribus angedachten Umfang möglich. Auch die Kontrolle über den Prozess ist nur möglich wo Transkribus die entsprechenden Möglickeiten im Portal bietet. Weil alle Daten zentralisiert durch Transkribus verwaltet werden besteht die Möglichkeit eines "Vendor Lock-In". Das bedeuetet es kann unter Umständen sehr schwierig werden in Zukunft zu einen anderen Anbieter zu wechseln.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> Schluss
\chapter{Schluss}\label{sec:schluss}

\section{Zielgruppen}
Für Transkribus sind die Hürden für den Start aber tiefer als mit OCR-D. Bei Transkribus reicht eine Registierung aus um erste Dokumente über den Browserclient zu digitalisieren. Der Expert Client welcher mehr Einstellungsmöglichkeiten als die Browserversion bietet, kann unkompliziert als Java Applikation installiert werden. Der Expert Client ist für alle gängigen Betriebssysteme verfügbar.
Ein initial Setup von OCR-D benötigt mehr technisches Verständnis, bietet dann aber mehr Konfigurations- und Anpassungsmöglichkeiten. Die Installation kann entweder klassisch als Python Anwendung oder mittels Docker als Container erfolgen. Durch den Einsatz von Container kann OCR-D ebenfalls auf allen gängigen Platformen eingesetzt werden. Aus diesen Gründen ist Transkribus eher für kleinere Institutionen mit wenig bis gar keinem IT Know-How geeignet während für Institutionen mit ausgeprägtem IT Know-How und eigener Infrastruktur OCR-D wohl die geeignetere Lösung ist.
OCR-D und Transkribus lösen ähnliche Probleme mit unterschiedlichen Ansätzen. OCR-D setzt auf Open Source während Transkribus eine mehrheitlich geschlossene Plattform ist.

\section{Fazit}
Es zeigen sich grundlegende Unterschiede zwischen den beiden Frameworks. Der Umgang mit Trainingsdaten und Modellen wird ganz unterschiedlich gehandhabt.Beide Frameworks bieten einen guten Funktionsumfang und lieferen beeindruckende Resultate in der Volltexttransformation. Sowohl der Open Source Ansatz von OCR-D als auch der Ansatz einer kommerziellen Plattform bei Transkribus machen Sinn. Beide Ansätze kommen mit ihren jeweiligen Vor- und Nachteilen. 

In diesem Vergelich wurden die Genauigkeit und Geschwindigkeit der Erkennung, die Hardwareanforderungen sowie die Kosten nicht verglichen. Ein vergleich dieser Eigenschaften lässt sich nur für einen klar definierten Anwendungsfall durchführen. Ein vergleich der Kosten für die Durchführung eines Volltexttransformationsprojektes könnte interssant sein. Es ist denkbar, dass OCR-D Kostenmmässig besser skaliert als Transkribus.

Es kann nicht abschliessend gesagt werden, welches der zwei Frameworks besser oder geeigneter für die Volltexttransformation von historischen Texten ist. In der Evaluationsphase eines solchen Projektes sollte deshalb sorgfälltig anhand der Anfoderungen des Projekts, den Fähigkeiten der durchführenden Institution sowie den zur Verfügung stehenden Mittel und Infrastruktur entschieden werden welche Lösung die geeignetere ist.




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% LITERATUR UND ANDERE VERZEICHNISSE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Ein kleiner Abstand zu den Kapiteln im Inhaltsverzeichnis (toc)
\addtocontents{toc}{\protect\vspace*{\baselineskip}}

%% Abkürzungen
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Abkürzungen}
\chapter*{Abkürzungen}
\begin{acronym}[Abkürzungen]
	\acro{OCR}{Optical Character Recognition}
    \acro{ML}{Maschinenlernen}
    \acro{NN}{Neuronales Netzwerk}
    \acroplural{NN}[NN]{Neuronale Netzwerke}
\end{acronym}

%% Literaturverzeichnis %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ==> Eine Datei 'literatur.bib' wird hierfür benötigt.
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Literaturverzeichnis}
%\nocite{*} %Auch nicht-zitierte BibTeX-Einträge werden angezeigt.
\Urlmuskip=0mu plus 1mu\relax
\bibliographystyle{plainnat} %Art der Ausgabe: plain / apalike / amsalpha / ...
\bibliography{literatur} %Eine Datei 'literatur.bib' wird hierfür benötigt.
\end{document}